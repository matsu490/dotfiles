%	bar3 compare number of sequence with SimEnv and InputMod and Interval

clear all
close all
fclose('all');

tglSave = 1;

strEnv  =  {'stim100' 'addstdp' 'mltstdp' 'stim050' 'stim060' 'stim070' 'stim080' 'stim090'};
strData =  {'50[Hz]' '100[Hz]' '200[Hz]' '0.3[-]' '0.5[-]' '0.7[-]'};
strTest =  {'1,000[msec](same)' '2,000[msec](same)' '4,000[msec](same)'...
			'1,000[msec](diff)' '2,000[msec](diff)' '4,000[msec](diff)'...
			'wo learning' 'wo input mod' ' wo learning & input mod'};
strCmp  =  {'02' '04' '06' '08' '10' '12' '14' '16' '18' '20'};
strTrl  =  {'01' '02' '03' '04' '05' '06' '07' '08' '09' '10'};

pltEnv  = 1:8;	%Simulation environment
pltData = 1:6;	%Data number
pltTest = 1:9;  %Data-test number
pltCmp  = 5:5;  %Sequence compression ratio
pltTrl  = 1:10; %After learning trial number

nSeqMean = ones(length(pltEnv),length(pltData),length(pltTest));
nSeqStd = ones(length(pltEnv),length(pltData),length(pltTest));

dirSave = '../SavedFigures/plotter003';
dirPrnt = sprintf('../DataBase');
dirPrntSeq = sprintf('..');

for i = pltEnv
	dirEnv = sprintf('%s/%s',dirPrnt,strEnv{i});
	dirEnvSeq = sprintf('%s/mod-code-longstim02-%s',dirPrntSeq,strEnv{i});

	for j = pltData
		dirData = sprintf('%s/data%d',dirEnv,j);
		dirDataSeq = sprintf('%s/data%d',dirEnvSeq,j);

		for k = pltTest
			dirTest = sprintf('%s/test0%d',dirData,k);
			dirTestSeq = sprintf('%s/data-test0%d',dirDataSeq,k);

			for l = pltCmp
				dirCmp = sprintf('%s/cmpr%s',dirTest,strCmp{l});

				for m = pltTrl
					dirTrl = sprintf('%s/trial%s',dirCmp,strTrl{m});
					dirTrlSeq = sprintf('%s/sequences%s-c%s',dirTestSeq,strTrl{m},strCmp{l});
					load_path = sprintf('%s/nSeq.mat',dirTrl);
					load(load_path);
					nSeq(1,m) = seqstat;
					nSeqMean(i,j,k) = mean(nSeq);
					nSeqStd(i,j,k) = std(nSeq);
					clear seqstat
				end % for m : after learning trial

			end %for l : compression ratio

			fprintf('For loop have finished until test0%d\n',k);
		end %for k : data-test

		fprintf('For loop have finished until data%d\n',j);
	end %for j : data

	fprintf('For loop have finished until simu env%d\n',i);
end	%for i : simulation environment

for i = pltEnv
	for j = pltData
		figure
		bar(pltTest,squeeze(nSeqMean(i,j,:))); hold on;
		errorbar(pltTest,squeeze(nSeqMean(i,j,:)),squeeze(nSeqStd(i,j,:)))
		set(gca,'xTickLabel',strTest(pltTest))
		ylabel('#seq')
		title(sprintf('%s %s',strEnv{i},strData{j}))
		if tglSave
			filename = sprintf('%s_%s',strEnv{i},strrep(strData{j},'.',','));
			filepath = [dirSave '/' filename];
			saveas(gcf,filepath,'fig')
			saveas(gcf,filepath,'png')
		end
	end
end
%{
for i = pltEnv
	figure
	bar3(squeeze(nSeqMean(i,pltData,pltTest)));
	set(gca,'xTickLabel',strTest(pltTest),'yTickLabel',strData(pltData))
	title(strEnv{i})
end
%}
